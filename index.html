<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg viewBox='0 0 64 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cfilter id='drop-shadow-3d-exam' x='-30%25' y='-20%25' width='160%25' height='160%25'%3E%3CfeGaussianBlur in='SourceAlpha' stdDeviation='2.5' result='blur'/%3E%3CfeOffset in='blur' dx='3' dy='5' result='offsetBlur'/%3E%3CfeFlood flood-color='%23000' flood-opacity='0.3' result='offsetColor'/%3E%3CfeComposite in='offsetColor' in2='offsetBlur' operator='in' result='offsetBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='offsetBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3ClinearGradient id='book-cover-grad' x1='0.5' y1='0' x2='0.5' y2='1'%3E%3Cstop offset='0%25' stop-color='%238b5cf6'/%3E%3Cstop offset='100%25' stop-color='%236d28d9'/%3E%3C/linearGradient%3E%3ClinearGradient id='cap-top-grad' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%23a855f7'/%3E%3Cstop offset='100%25' stop-color='%237c3aed'/%3E%3C/linearGradient%3E%3ClinearGradient id='progressGradient-circle' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23c084fc' /%3E%3Cstop offset='100%25' stop-color='%238b5cf6' /%3E%3C/linearGradient%3E%3ClinearGradient id='progressGradient-orb' x1='0%25' y1='100%25' x2='0%25' y2='0%25'%3E%3Cstop offset='0%25' stop-color='%236d28d9' /%3E%3Cstop offset='100%25' stop-color='%23c084fc' /%3E%3C/linearGradient%3E%3Cfilter id='loader-glow-ultra' x='-100%25' y='-100%25' width='300%25' height='300%25'%3E%3CfeGaussianBlur stdDeviation='3' result='coloredBlur'/%3E%3CfeMerge%3E%3CfeMergeNode in='coloredBlur'/%3E%3CfeMergeNode in='SourceGraphic'/%3E%3C/feMerge%3E%3C/filter%3E%3C/defs%3E%3Cg filter='url(%23drop-shadow-3d-exam)'%3E%3Cpath d='M10 54C10 51.7909 11.7909 50 14 50H50C52.2091 50 54 51.7909 54 54V56C54 58.2091 52.2091 60 50 60H14C11.7909 60 10 58.2091 10 56V54Z' fill='url(%23book-cover-grad)'/%3E%3Cpath d='M8 52C20 44 44 44 56 52L54 28C42 34 22 34 10 28L8 52Z' fill='%23e5e7eb'/%3E%3Cpath d='M10 28C22 34 42 34 54 28L32 20L10 28Z' fill='%23ffffff'/%3E%3Cpath d='M32 20V52' stroke='%23d1d5db' stroke-width='1.5'/%3E%3Cpath d='M18 36H28' stroke='%23a78bfa' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M18 42H26' stroke='%23a78bfa' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M36 36H46' stroke='%23a78bfa' stroke-width='1.5' stroke-linecap='round'/%3E%3Cpath d='M36 42H44' stroke='%23a78bfa' stroke-width='1.5' stroke-linecap='round'/%3E%3Cg transform='translate(0, -8)'%3E%3Cpath d='M24 30C24 28.8954 27.5817 28 32 28C36.4183 28 40 28.8954 40 30V32H24V30Z' fill='%236d28d9'/%3E%3Cpath d='M32 8L52 18L32 28L12 18L32 8Z' fill='url(%23cap-top-grad)'/%3E%3Cpath d='M32 18V25' stroke='%23f3f4f6' stroke-width='1.5' stroke-linecap='round'/%3E%3Ccircle cx='32' cy='18' r='1.5' fill='%23f3f4f6'/%3E%3Cpath d='M30 25C30 25 30 27 32 27C34 27 34 25 34 25' stroke='%23f3f4f6' stroke-width='1.5' stroke-linecap='round' fill='none'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI Exam Prep</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PDF.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <script>
      if (typeof pdfjsLib !== 'undefined') {
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.worker.min.js';
      }
    </script>
    <!-- Leaflet.js Library for Live Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <style>
      body {
        background-color: #0A0910;
        color: #e5e7eb; /* gray-200 */
        font-family: 'Inter', sans-serif;
      }
      
      #root {
        position: relative;
        z-index: 1;
      }
      
      ::selection {
        background-color: #a855f7; /* violet-500 */
        color: white;
      }

      :root {
        --scrollbar-thumb: #3730a3; /* indigo-800 */
        --scrollbar-thumb-hover: #4338ca; /* indigo-700 */
        --scrollbar-track: #1e1b34;
        --diagram-stroke-color: #a5b4fc; /* indigo-300 */
        --diagram-text-color: #c7d2fe; /* indigo-200 */
      }

      /* Custom Scrollbar */
      ::-webkit-scrollbar {
        width: 12px;
        height: 12px;
      }
      ::-webkit-scrollbar-track {
        background: var(--scrollbar-track);
      }
      ::-webkit-scrollbar-thumb {
        background-color: var(--scrollbar-thumb);
        border-radius: 20px;
        border: 3px solid var(--scrollbar-track);
      }
      ::-webkit-scrollbar-thumb:hover {
        background-color: var(--scrollbar-thumb-hover);
      }
      html {
        scrollbar-width: thin;
        scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
      }
      .no-scrollbar::-webkit-scrollbar { display: none; }
      .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

      /* Fix for form control visibility in dark mode */
      select {
        color-scheme: dark;
      }

      /* Custom Animation Styles */
      .apple-like-transition {
        transition-property: all;
        transition-duration: 400ms;
        transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
      }

      /* Diagram Visibility Fix */
      .diagram-container svg {
        max-width: 100%;
        height: auto;
      }
      /* Force strokes to be light-colored to override potential inline "black" strokes */
      .diagram-container svg path,
      .diagram-container svg line,
      .diagram-container svg polyline,
      .diagram-container svg circle,
      .diagram-container svg rect,
      .diagram-container svg ellipse {
        stroke: var(--diagram-stroke-color) !important;
        stroke-width: 1.5px !important;
      }
      /* Force text to be light-colored and remove stroke for readability */
      .diagram-container svg text,
      .diagram-container svg tspan {
        fill: var(--diagram-text-color) !important;
        stroke: none !important;
        font-family: 'Inter', sans-serif;
        font-size: 16px;
        font-weight: 500;
      }
      /* If a shape has a black fill, remove it to make the stroke visible.
         This avoids breaking colored fills like in Venn diagrams. */
      .diagram-container svg [fill="black"],
      .diagram-container svg [fill="#000"],
      .diagram-container svg [fill="#000000"] {
        fill: none !important;
      }
      
      @keyframes page-enter-animation {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .page-transition-wrapper {
        animation: page-enter-animation 600ms cubic-bezier(0.25, 1, 0.5, 1) forwards;
      }

      @keyframes item-fade-in-slide-up {
        from { opacity: 0; transform: translateY(15px); }
        to { opacity: 1; transform: translateY(0); }
      }

      .item-animated-entry {
          animation: item-fade-in-slide-up 500ms cubic-bezier(0.65, 0.05, 0.36, 1) backwards;
      }
      
      @keyframes modal-backdrop-fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes modal-backdrop-fade-out {
        from { opacity: 1; }
        to { opacity: 0; }
      }

      @keyframes modal-content-enter {
        from {
          opacity: 0;
          transform: scale(0.96);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes modal-content-exit {
        from {
          opacity: 1;
          transform: scale(1);
        }
        to {
          opacity: 0;
          transform: scale(0.96);
        }
      }

      .modal-backdrop-animate {
        animation: modal-backdrop-fade-in 300ms ease-out forwards;
      }

      .modal-content-animate {
        animation: modal-content-enter 400ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      .modal-backdrop-animate-exit {
        animation: modal-backdrop-fade-out 300ms ease-in forwards;
      }

      .modal-content-animate-exit {
        animation: modal-content-exit 300ms ease-in forwards;
      }
      
      @keyframes scan-modal-slide-in-right {
        from {
            transform: translateX(100px) scale(0.95);
            opacity: 0;
        }
        to {
            transform: translateX(0) scale(1);
            opacity: 1;
        }
      }

      @keyframes scan-modal-slide-out-right {
        from {
            transform: translateX(0) scale(1);
            opacity: 1;
        }
        to {
            transform: translateX(100px) scale(0.95);
            opacity: 0;
        }
      }

      .scan-modal-slide-enter {
        animation: scan-modal-slide-in-right 600ms cubic-bezier(0.25, 1, 0.5, 1) forwards;
      }
      .scan-modal-slide-exit {
        animation: scan-modal-slide-out-right 400ms ease-out forwards;
      }

      @keyframes option-select-pulse {
        from {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(168, 85, 247, 0); /* purple-500 */
        }
        50% {
          transform: scale(1.02);
          box-shadow: 0 0 0 4px rgba(168, 85, 247, 0.3), 0 0 20px rgba(168, 85, 247, 0.1);
        }
        to {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(168, 85, 247, 0);
        }
      }

      .option-selected-animate {
        animation: option-select-pulse 400ms cubic-bezier(0.65, 0.05, 0.36, 1);
      }
      
      @keyframes explanation-fade-in-slide-up {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .explanation-animate {
        animation: explanation-fade-in-slide-up 400ms cubic-bezier(0.65, 0.05, 0.36, 1) forwards;
      }

      /* --- NEW: STARFIELD BACKGROUND --- */
      #starfield {
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
        overflow: hidden;
      }

      .star-layer {
        position: absolute;
        top: 0;
        left: 0;
        width: 1px;
        height: 1px;
        background: transparent;
        animation: animStar linear infinite, twinkle linear infinite;
      }

      .star-layer:nth-child(1) {
        width: 1px; height: 1px;
        box-shadow: 0 0 0 1px rgba(255,255,255,0.4), 731px 980px 0 1px rgba(255,255,255,0.4), 1636px 143px 0 0 rgba(255,255,255,0.4), 1874px 579px 0 1px rgba(255,255,255,0.4), 1089px 1318px 0 1px rgba(255,255,255,0.4), 130px 1489px 0 0 rgba(255,255,255,0.4), 1469px 933px 0 0 rgba(255,255,255,0.4), 770px 1826px 0 0 rgba(255,255,255,0.4), 143px 363px 0 0 rgba(255,255,255,0.4), 1830px 789px 0 1px rgba(255,255,255,0.4), 1485px 1297px 0 1px rgba(255,255,255,0.4), 1873px 1106px 0 0 rgba(255,255,255,0.4), 1010px 1867px 0 1px rgba(255,255,255,0.4);
        animation-duration: 300s, 10s;
        animation-delay: 0s, -2s;
      }
      .star-layer:nth-child(2) {
        width: 2px; height: 2px;
        box-shadow: 0 0 0 1px rgba(255,255,255,0.6), 1125px 1475px 0 0 rgba(255,255,255,0.6), 1735px 1388px 0 0 rgba(255,255,255,0.6), 1332px 1261px 0 0 rgba(255,255,255,0.6), 1326px 1045px 0 0 rgba(255,255,255,0.6), 1801px 1880px 0 1px rgba(255,255,255,0.6), 1341px 1609px 0 1px rgba(255,255,255,0.6), 503px 1743px 0 1px rgba(255,255,255,0.6), 808px 1010px 0 0 rgba(255,255,255,0.6), 1017px 1199px 0 1px rgba(255,255,255,0.6), 1630px 1133px 0 0 rgba(255,255,255,0.6), 846px 108px 0 1px rgba(255,255,255,0.6), 1381px 134px 0 1px rgba(255,255,255,0.6);
        animation-duration: 250s, 8s;
        animation-delay: 0s, -5s;
      }
      .star-layer:nth-child(3) {
        width: 3px; height: 3px;
        box-shadow: 0 0 0 1px #fff, 933px 1083px 0 1px #fff, 477px 461px 0 1px #fff, 1319px 343px 0 1px #fff, 1198px 1215px 0 1px #fff, 1859px 1080px 0 1px #fff, 1515px 1753px 0 0 #fff, 1546px 147px 0 0 #fff, 1109px 1694px 0 1px #fff, 396px 1583px 0 1px #fff, 107px 1544px 0 0 #fff, 1888px 1867px 0 0 #fff, 735px 719px 0 0 #fff, 1159px 128px 0 1px #fff;
        animation-duration: 200s, 12s;
      }

      @keyframes animStar {
        from { transform: translate(0px, 0px); }
        to { transform: translate(-200px, -1000px); }
      }
      
      @keyframes twinkle {
        0%, 100% { opacity: 0.8; }
        50% { opacity: 0.4; }
      }

      /* Interactive Background Elements */
      .interactive-background {
        position: fixed;
        inset: 0;
        z-index: 0;
        overflow: hidden;
        background-color: transparent;
        pointer-events: none;
        
        /* Dot pattern with parallax */
        background-image: radial-gradient(circle at center, rgba(124, 58, 237, 0.08) 1px, transparent 1px);
        background-size: 2rem 2rem;
        background-position: var(--mouse-bg-x, 0) var(--mouse-bg-y, 0);
        transition: background-position 0.2s ease-out, mask-image 0.2s ease-out;
        
        /* Softer, larger spotlight mask effect */
        mask-image: radial-gradient(
          circle 800px at var(--mouse-x, 50%) var(--mouse-y, 50%),
          black 5%,
          rgba(0, 0, 0, 0.5) 40%,
          transparent 70%
        );
        -webkit-mask-image: radial-gradient(
          circle 800px at var(--mouse-x, 50%) var(--mouse-y, 50%),
          black 5%,
          rgba(0, 0, 0, 0.5) 40%,
          transparent 70%
        );
      }

      .glow-shapes {
        position: fixed;
        inset: 0;
        z-index: 0;
        overflow: hidden;
        filter: blur(100px);
      }

      .glow-shape {
        position: absolute;
        opacity: 0.6;
        mix-blend-mode: screen;
      }

      .glow-shape-1 {
        width: 400px;
        height: 350px;
        top: 5%;
        left: 10%;
        animation-name: float-shape-1, morph;
        animation-duration: 45s, 22s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        background: #5b21b6;
      }
      .glow-shape-2 {
        width: 300px;
        height: 300px;
        top: 30%;
        right: 5%;
        animation-name: float-shape-2, morph;
        animation-duration: 50s, 18s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        animation-delay: 0s, -5s;
        background: #4c1d95;
      }
       .glow-shape-3 {
        width: 250px;
        height: 250px;
        bottom: 5%;
        left: 25%;
        animation-name: float-shape-3, morph;
        animation-duration: 42s, 25s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        background: #a78bfa;
      }
      .glow-shape-4 {
        position: absolute;
        width: 200px;
        height: 200px;
        bottom: 20%;
        right: 20%;
        animation-name: float-shape-4, morph;
        animation-duration: 38s, 20s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: infinite;
        animation-direction: alternate;
        animation-delay: 0s, -10s;
        background: #6d28d9;
      }
      
      @keyframes morph {
        0% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
        50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
        100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
      }

      @keyframes float-shape-1 {
        0% { transform: translate(0, 0) rotate(0deg) scale(1); }
        50% { transform: translate(100px, 150px) rotate(90deg) scale(1.2); }
        100% { transform: translate(-40px, 50px) rotate(-30deg) scale(1.05); }
      }
      @keyframes float-shape-2 {
        0% { transform: translate(0, 0) scale(1.1); opacity: 0.7; }
        50% { transform: translate(-120px, -180px) scale(0.9); opacity: 0.85; }
        100% { transform: translate(50px, -60px) scale(1.05); opacity: 0.75; }
      }
      @keyframes float-shape-3 {
        0% { transform: translate(0, 0) rotate(-30deg) scale(0.9); }
        50% { transform: translate(180px, -100px) rotate(45deg) scale(1.3); }
        100% { transform: translate(40px, -50px) rotate(-15deg) scale(1.1); }
      }
      @keyframes float-shape-4 {
        0% { transform: translate(0, 0) rotate(10deg); }
        50% { transform: translate(-150px, 180px) rotate(80deg) scale(0.9); }
        100% { transform: translate(-50px, 60px) rotate(30deg) scale(1); }
      }

      /* New Hero Button Full Glow Animation */
      @keyframes button-surface-hit {
        0% {
          transform: scale(1);
          background-color: rgba(255, 255, 255, 0.05);
          border-color: rgba(255, 255, 255, 0.1);
          box-shadow: 0 0 0 0 rgba(192, 132, 252, 0);
        }
        40% { /* Peak glow */
          transform: scale(1.03); /* subtle pulse */
          background-color: rgba(192, 132, 252, 0.2); /* brighter bg-purple-400/20 */
          border-color: rgba(221, 214, 254, 0.9); /* bright border-purple-200/90 */
          box-shadow: 0 0 30px 8px rgba(192, 132, 252, 0.5); /* Stronger outer glow */
        }
        100% { /* Fade back to normal */
          transform: scale(1);
          background-color: rgba(255, 255, 255, 0.05);
          border-color: rgba(255, 255, 255, 0.1);
          box-shadow: 0 0 60px 40px rgba(192, 132, 252, 0); /* fade out wider */
        }
      }

      .button-is-glowing {
        animation: button-surface-hit 600ms cubic-bezier(0.25, 0.8, 0.25, 1) forwards;
      }
      
      .wire-svg-container {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          width: 50vw;
          height: 100px;
          pointer-events: none;
          z-index: 5;
      }

      .wire-svg-left {
          right: 95%;
      }

      .wire-svg-right {
          left: 95%;
      }

      .wire-path-bg {
          fill: none;
          stroke-width: 1.5;
          stroke: rgba(124, 58, 237, 0.2); /* violet-700 at 20% opacity */
          opacity: 0;
          animation: wire-fade-in 1.5s ease-out 0.5s forwards;
      }

      .wire-path {
          fill: none;
          stroke-width: 2;
          stroke-linecap: round;
          filter: drop-shadow(0 0 4px rgba(233, 213, 255, 1)) drop-shadow(0 0 10px rgba(192, 132, 252, 0.8)) drop-shadow(0 0 20px rgba(168, 85, 247, 0.5));
          opacity: 0;
      }

      .wire-path-1 {
          stroke: rgba(192, 132, 252, 0.9); /* purple-300 */
          stroke-dasharray: 2 500; /* 2px dot, 500px gap for single dot effect */
      }
      .wire-path-2 {
          stroke: rgba(221, 214, 254, 1); /* lighter purple-200 */
          stroke-width: 2.5;
          stroke-dasharray: 3 500; /* larger dot for main line */
      }
      .wire-path-3 {
          stroke: rgba(192, 132, 252, 0.9);
          stroke-dasharray: 2 500; /* 2px dot, 500px gap for single dot effect */
      }

      /* Animations for Left Side (Asynchronous pulse with variation) */
      .wire-svg-left .wire-path-1 {
          animation: wire-fade-in 1.5s ease-out 0.6s forwards,
                     data-flow-all 4.1s linear 2.3s infinite;
      }
      .wire-svg-left .wire-path-2 {
          animation: wire-fade-in 1.5s ease-out 0.5s forwards,
                     data-flow-all 4s linear 2.8s infinite;
      }
      .wire-svg-left .wire-path-3 {
          animation: wire-fade-in 1.5s ease-out 0.7s forwards,
                     data-flow-all 4.2s linear 3.1s infinite;
      }

      /* Animations for Right Side (Asynchronous pulse with variation) */
      .wire-svg-right .wire-path-1 {
          animation: wire-fade-in 1.5s ease-out 0.7s forwards,
                     data-flow-all 3.9s linear 2.5s infinite;
      }
      .wire-svg-right .wire-path-2 {
          animation: wire-fade-in 1.5s ease-out 0.5s forwards,
                     data-flow-all 3.8s linear 2.1s infinite;
      }
      .wire-svg-right .wire-path-3 {
          animation: wire-fade-in 1.5s ease-out 0.6s forwards,
                     data-flow-all 4.0s linear 3.4s infinite;
      }

      @keyframes data-flow-all {
        0%    { stroke-dashoffset: -300; opacity: 1; }
        40%   { stroke-dashoffset: 0; opacity: 1; }
        50%   { opacity: 0; }
        100%  { opacity: 0; }
      }
      
      @keyframes wire-fade-in {
          from { opacity: 0; }
          to { opacity: 1; }
      }

      /* New Hero Animation: AI Grid */
      .ai-grid-container {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 100%;
          max-width: 700px;
          aspect-ratio: 1 / 1;
          z-index: 5;
          pointer-events: none;
          opacity: 0.15;
      }
      
      @media (min-width: 768px) {
        .ai-grid-container { opacity: 0.2; }
      }

      .ai-grid {
          position: relative;
          width: 100%;
          height: 100%;
          background-image: radial-gradient(circle at center, #a855f7 1px, transparent 1.5px);
          background-size: 2rem 2rem;
          mask-image: radial-gradient(circle at center, white 50%, transparent 80%);
      }

      .ai-grid::before {
          content: '';
          position: absolute;
          inset: 0;
          background: conic-gradient(from 0deg at 50% 50%, #a855f7, #c084fc, #a855f7, transparent, #a855f7);
          animation: scan 10s linear infinite;
          mask-image: radial-gradient(circle at center, white, transparent 70%);
      }

      @keyframes scan {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
      }

      @keyframes fade-in-slide-up-staggered {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
      }

      .stagger-animated-entry {
          animation: fade-in-slide-up-staggered 600ms cubic-bezier(0.65, 0.05, 0.36, 1) backwards;
      }
      .stagger-1 { animation-delay: 100ms; }
      .stagger-2 { animation-delay: 200ms; }
      .stagger-3 { animation-delay: 300ms; }
      .stagger-4 { animation-delay: 400ms; }
      .stagger-5 { animation-delay: 500ms; }
      
      /* New AI Loader */
      .ai-loader {
          width: 100px;
          height: 100px;
          position: relative;
      }

      .ai-loader-ring {
          position: absolute;
          inset: 0;
          border-radius: 50%;
          border: 4px solid transparent;
          border-top-color: #a855f7;
          border-bottom-color: #a855f7;
          animation: ai-loader-spin 2s linear infinite;
          filter: drop-shadow(0 0 5px #a855f7);
      }

      .ai-loader-ring:nth-child(2) {
          border-top-color: #c084fc;
          border-bottom-color: #c084fc;
          animation: ai-loader-spin-rev 1.5s linear infinite;
          filter: drop-shadow(0 0 5px #c084fc);
      }
      
      .ai-loader-ring:nth-child(3) {
          inset: 15px;
          border: 2px solid transparent;
          border-left-color: #8b5cf6;
          border-right-color: #8b5cf6;
          animation: ai-loader-spin 2.5s linear infinite;
          filter: drop-shadow(0 0 5px #8b5cf6);
      }

      .ai-loader-core {
          position: absolute;
          top: 50%;
          left: 50%;
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: #d8b4fe;
          transform: translate(-50%, -50%) scale(1);
          animation: ai-loader-pulse 1.5s ease-in-out infinite;
          box-shadow: 0 0 15px #d8b4fe, 0 0 30px #a855f7;
      }

      @keyframes ai-loader-spin {
          to { transform: rotate(360deg); }
      }

      @keyframes ai-loader-spin-rev {
          to { transform: rotate(-360deg); }
      }

      @keyframes ai-loader-pulse {
          0%, 100% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.7; }
          50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
      }
      
      @keyframes pulse-timer {
        0%, 100% {
          transform: scale(1);
          filter: drop-shadow(0 0 5px rgba(239, 68, 68, 0.4));
        }
        50% {
          transform: scale(1.05);
          filter: drop-shadow(0 0 15px rgba(239, 68, 68, 0.8));
        }
      }

      .timer-critical-pulse {
        animation: pulse-timer 1.5s ease-in-out infinite;
      }

      /* Syllabus Card & Exam Card Animation: Interactive Tilt & Glow */
      .interactive-card {
        position: relative;
        overflow: hidden;
        transform-style: preserve-3d;
        /* Transition for resetting transform */
        transition: transform 350ms cubic-bezier(0.16, 1, 0.3, 1), 
                    border-color 250ms ease-in-out,
                    box-shadow 250ms ease-in-out;
      }

      /* Wrapper for content to allow separate active:scale transform */
      .inner-card-content {
        transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
      }

      .interactive-card::before {
        content: '';
        position: absolute;
        top: var(--glow-y, 50%);
        left: var(--glow-x, 50%);
        transform: translate(-50%, -50%);
        width: 150%;
        padding-bottom: 150%;
        background: radial-gradient(circle at center, rgba(168, 85, 247, 0.25) 0%, transparent 50%);
        opacity: 0;
        transition: opacity 350ms ease-in-out;
        pointer-events: none;
      }

      .interactive-card:hover {
        border-color: #a855f7; /* purple-500 */
        box-shadow: 0 10px 30px -5px rgba(168, 85, 247, 0.2);
      }

      .interactive-card:hover::before {
        opacity: 1;
      }
      
      .interactive-card:active .inner-card-content {
        transform: scale(0.95);
      }
      
      /* New Button Styles */
      .btn {
        position: relative;
        overflow: hidden;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: 0.5rem;
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        transition: all 0.3s ease;
        -webkit-tap-highlight-color: transparent;
      }
      .btn:active {
        transform: scale(0.97);
      }
      .btn-primary {
        background: linear-gradient(135deg, #c084fc, #9333ea);
        color: white;
        text-shadow: 0 1px 3px rgba(0,0,0,0.2);
        box-shadow: 0 4px 15px 0 rgba(168, 85, 247, 0.25), 0 1px 2px rgba(0,0,0,0.1);
        border: 1px solid transparent;
      }
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 7px 20px 0 rgba(168, 85, 247, 0.35);
      }
      .btn-secondary {
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        color: white;
      }
      .btn-secondary:hover {
        background-color: rgba(255, 255, 255, 0.1);
        border-color: rgba(255, 255, 255, 0.2);
      }
      
      /* New Upload Card Style */
      .upload-card {
          position: relative;
          overflow: hidden;
          background: #13111c;
          border: 1px solid rgba(255, 255, 255, 0.1);
          transition: border-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
      }
      .upload-card::before {
        content: '';
        position: absolute;
        top: var(--glow-y, 50%);
        left: var(--glow-x, 50%);
        transform: translate(-50%, -50%);
        width: 400px;
        height: 400px;
        background: radial-gradient(circle at center, rgba(168, 85, 247, 0.15) 0%, transparent 60%);
        opacity: 0;
        transition: opacity 0.4s ease-out;
        pointer-events: none;
      }
      .upload-card:hover {
        border-color: rgba(168, 85, 247, 0.3);
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      }
      .upload-card:hover::before {
          opacity: 1;
      }

      /* New: Question Transition Animation */
      .question-container {
        position: relative;
      }

      @keyframes slide-in-from-right {
        from { opacity: 0; transform: translateX(25px) scale(0.98); }
        to { opacity: 1; transform: translateX(0) scale(1); }
      }

      @keyframes slide-in-from-left {
        from { opacity: 0; transform: translateX(-25px) scale(0.98); }
        to { opacity: 1; transform: translateX(0) scale(1); }
      }

      .question-enter-next {
        animation: slide-in-from-right 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      .question-enter-prev {
        animation: slide-in-from-left 500ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
      }

      /* Checkmark Animation */
       .checkmark-circle {
        stroke-dasharray: 166;
        stroke-dashoffset: 166;
        stroke-width: 2;
        stroke-miterlimit: 10;
        stroke: #7ac142;
        fill: none;
        animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
      }

      .checkmark {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        display: block;
        stroke-width: 2;
        stroke: #fff;
        stroke-miterlimit: 10;
        margin: 10% auto;
        box-shadow: inset 0px 0px 0px #7ac142;
        animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
      }

      .checkmark-check {
        transform-origin: 50% 50%;
        stroke-dasharray: 48;
        stroke-dashoffset: 48;
        animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
      }

      @keyframes stroke {
        100% {
          stroke-dashoffset: 0;
        }
      }

      @keyframes scale {
        0%, 100% {
          transform: none;
        }
        50% {
          transform: scale3d(1.1, 1.1, 1);
        }
      }

      @keyframes fill {
        100% {
          box-shadow: inset 0px 0px 0px 30px #7ac142;
        }
      }

      /* New PDF Scanning Animation Overlay */
      .pdf-page-scanner-overlay {
          position: fixed;
          inset: 0;
          background-color: rgba(10, 9, 16, 0.8);
          backdrop-filter: blur(8px);
          z-index: 200;
          display: flex;
          align-items: center;
          justify-content: center;
      }

      .pdf-page-scanner-container {
          text-align: center;
      }

      .pdf-page-scanner-content {
          position: relative;
          width: 320px; /* A good size for a page preview */
          border: 2px solid rgba(168, 85, 247, 0.3);
          border-radius: 8px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 40px rgba(168, 85, 247, 0.3);
          overflow: hidden;
      }

      .pdf-page-scanner-content canvas {
          display: block;
          width: 100%;
          height: auto;
          opacity: 0.8;
      }

      .pdf-page-scanner-line {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg, transparent, rgba(233, 213, 255, 0.9) 50%, transparent);
          box-shadow: 0 0 15px #c084fc, 0 0 8px #fff;
          border-radius: 2px;
          animation: pdf-scan-vertical 3s infinite cubic-bezier(0.5, 0, 0.5, 1);
      }

      @keyframes pdf-scan-vertical {
          0% {
              top: 2%;
              opacity: 0.8;
          }
          50% {
              top: 98%;
              transform: translateY(-4px);
              opacity: 1;
          }
          100% {
              top: 2%;
              opacity: 0.8;
          }
      }

      .pdf-page-scanner-info {
          margin-top: 1.5rem;
          font-size: 1.125rem;
          font-weight: 600;
          color: #d8b4fe;
          text-shadow: 0 0 10px rgba(216, 180, 254, 0.5);
      }
      
      /* New drag-over animation */
      @keyframes pulse-border-glow {
          0%, 100% {
              box-shadow: 0 10px 30px -5px rgba(168, 85, 247, 0.2), 0 0 0 2px rgba(168, 85, 247, 0.5);
              border-color: rgba(168, 85, 247, 0.5);
          }
          50% {
              box-shadow: 0 10px 30px -5px rgba(168, 85, 247, 0.4), 0 0 0 4px rgba(168, 85, 247, 1);
              border-color: rgba(168, 85, 247, 1);
          }
      }
      .drag-over-pulse {
          animation: pulse-border-glow 1.5s infinite ease-in-out;
      }
      
      .futuristic-progress-container {
        position: relative;
        width: 100%;
        margin-top: 0.5rem;
      }
      .futuristic-progress-track {
        width: 100%;
        height: 8px;
        background-color: rgba(0, 0, 0, 0.5);
        border-radius: 4px;
        overflow: hidden;
        position: relative;
        box-shadow: inset 0 1px 4px rgba(0,0,0,0.7);
      }
      .futuristic-progress-fill {
        height: 100%;
        border-radius: 4px;
        background-image: linear-gradient(90deg, #8b5cf6, #c084fc);
        transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        box-shadow: 0 0 8px rgba(192, 132, 252, 0.8);
        overflow: hidden;
      }
      .futuristic-progress-fill::after {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        animation: scanline-v3 2.5s ease-in-out infinite;
      }

      @keyframes scanline-v3 {
          0% { left: -100%; }
          50% { left: 100%; }
          100% { left: 100%; }
      }

      /* FUTURISTIC ARC REACTOR LOADER */
      .arc-reactor-loader {
          position: relative;
          width: 90px;
          height: 90px;
      }
      .arc-reactor-loader svg {
          width: 100%;
          height: 100%;
          overflow: visible;
      }
      .arc-reactor-bg-ring {
          fill: none;
          stroke: rgba(124, 58, 237, 0.15);
      }
      .arc-reactor-spinner-1, .arc-reactor-spinner-2 {
          stroke: rgba(192, 132, 252, 0.5);
          transform-origin: center;
          filter: url(#loader-glow-ultra);
      }
      .arc-reactor-spinner-1 {
          animation: arc-reactor-spin 8s linear infinite;
      }
      .arc-reactor-spinner-2 {
          animation: arc-reactor-spin-rev 12s linear infinite;
      }
      .arc-reactor-track {
          fill: none;
          stroke: rgba(109, 40, 217, 0.2);
          stroke-width: 8;
      }
      .arc-reactor-fill {
          fill: none;
          stroke: url(#progressGradient-circle);
          stroke-width: 8;
          stroke-linecap: round;
          filter: url(#loader-glow-ultra);
          transition: stroke-dashoffset 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      }
      .arc-reactor-core {
          fill: rgba(221, 214, 254, 0.8); /* purple-200 */
          stroke: #fff;
          stroke-width: 0.5;
          transform-origin: center;
          animation: arc-reactor-pulse 2s ease-in-out infinite;
          filter: drop-shadow(0 0 8px #a855f7);
      }
      .arc-reactor-text {
          font-family: 'Inter', sans-serif;
          font-size: 20px;
          font-weight: 800;
          fill: #fff;
          text-anchor: middle;
          dominant-baseline: middle;
          text-shadow: 0 0 5px rgba(0,0,0,0.7);
      }
      .loader-text-below {
          font-size: 0.75rem;
          line-height: 1.2;
          font-weight: 600;
          color: #d8b4fe;
          text-align: center;
          max-width: 90px;
          white-space: normal;
          text-shadow: 0 0 10px rgba(216, 180, 254, 0.5);
          margin-top: 0.5rem;
      }
      
      @keyframes arc-reactor-spin { 
          from { transform: rotate(0deg); } 
          to { transform: rotate(360deg); } 
      }
      @keyframes arc-reactor-spin-rev { 
          from { transform: rotate(0deg); } 
          to { transform: rotate(-360deg); } 
      }
      @keyframes arc-reactor-pulse { 
          0%, 100% { transform: scale(0.95); opacity: 0.8; } 
          50% { transform: scale(1.05); opacity: 1; } 
      }

      /* --- NEW: Generation Stepper --- */
      .generation-stepper {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        width: 100%;
        padding: 0;
        margin: 0 0 1rem 0;
        list-style-type: none;
        position: relative;
      }
      .generation-stepper::before {
        content: '';
        position: absolute;
        top: 12px;
        left: 12px;
        right: 12px;
        height: 2px;
        background-color: rgba(255, 255, 255, 0.1);
        z-index: 0;
      }
      .generation-step {
        position: relative;
        z-index: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        flex: 1;
        padding: 0 2px;
        min-width: 0;
      }
      .generation-step .step-icon {
        width: 24px;
        height: 24px;
        border-radius: 50%;
        background-color: #110f1e;
        border: 2px solid rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.4s ease;
        position: relative;
      }
      .generation-step span {
        font-size: 0.65rem;
        font-weight: 600;
        color: #9ca3af; /* gray-400 */
        margin-top: 0.5rem;
        max-width: 100%;
        line-height: 1.2;
        transition: color 0.4s ease;
        overflow-wrap: break-word;
      }
      /* Step Statuses */
      .generation-step.completed .step-icon {
        background-color: #8b5cf6; /* violet-500 */
        border-color: #8b5cf6;
      }
      .generation-step.completed span {
        color: #c4b5fd; /* violet-300 */
      }
      .generation-step.active .step-icon {
        border-color: #a855f7; /* purple-500 */
        background-color: #3b0764;
        box-shadow: 0 0 15px rgba(168, 85, 247, 0.7);
        animation: pulse-stepper-icon 2s infinite;
      }
      .generation-step.active span {
        color: #fff;
        font-weight: 700;
      }
      @keyframes pulse-stepper-icon {
        0%, 100% { transform: scale(1); box-shadow: 0 0 15px rgba(168, 85, 247, 0.5); }
        50% { transform: scale(1.1); box-shadow: 0 0 25px rgba(168, 85, 247, 0.8); }
      }
      
      /* --- Sidebar --- */
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        height: 100vh;
        width: 6rem; /* 96px */
        background-color: rgba(10, 9, 16, 0.7);
        backdrop-filter: blur(12px);
        border-right: 1px solid rgba(255, 255, 255, 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 1.5rem 0;
        z-index: 100;
        transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        overflow-y: auto;
      }
      .sidebar::-webkit-scrollbar { display: none; }
      .sidebar { -ms-overflow-style: none; scrollbar-width: none; }

      .sidebar:hover {
        width: 16rem; /* 256px */
      }
      .sidebar-logo {
        flex-shrink: 0;
        margin-bottom: 2rem;
        transition: transform 0.3s ease;
      }
      .sidebar:hover .sidebar-logo {
        transform: rotate(3deg) scale(1.05);
      }
      .sidebar-nav {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        width: 100%;
      }
      .sidebar-nav-item {
        position: relative;
        display: flex;
        align-items: center;
        width: 100%;
        height: 3rem; /* 48px */
        padding: 0 1.75rem; /* Centering the 24px icon in a 96px bar */
        color: #9ca3af; /* gray-400 */
        cursor: pointer;
        overflow: hidden;
        white-space: nowrap;
        background: none;
        border: none;
        transition: background-color 0.2s ease, color 0.2s ease;
      }
      .sidebar-nav-item::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        height: 0;
        width: 4px;
        background: #a855f7;
        border-radius: 0 4px 4px 0;
        transition: height 0.2s ease;
      }
      .sidebar-nav-item:hover {
        background-color: rgba(168, 85, 247, 0.1);
        color: #e5e7eb; /* gray-200 */
      }
      .sidebar-nav-item:hover::before {
        height: 60%;
      }
      .sidebar-nav-item svg {
        flex-shrink: 0;
        width: 1.5rem; /* 24px */
        height: 1.5rem; /* 24px */
        margin-right: 1.5rem;
      }
      .sidebar-nav-item .nav-text {
        opacity: 0;
        transition: opacity 0.2s ease;
        font-weight: 600;
      }
      .sidebar:hover .sidebar-nav-item .nav-text {
        opacity: 1;
        transition-delay: 0.1s;
      }

      /* Main content wrapper for sidebar layout */
      .main-content-wrapper {
        transition: padding-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding-left: 6rem; /* 96px */
        width: 100%;
      }
      .sidebar:hover ~ .main-content-wrapper {
        padding-left: 16rem; /* 256px */
      }
      
      /* --- NEW: Filter Nav --- */
      .filter-nav-container {
        position: sticky;
        top: 0;
        z-index: 40;
        background-color: rgba(10, 9, 16, 0.8);
        backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding: 0.75rem 0;
        margin-bottom: 2rem;
      }

      @media (max-width: 768px) {
        .sidebar {
          width: 16rem; /* 256px */
          transform: translateX(-100%);
          padding: 1.5rem 0;
          border-right: 1px solid rgba(255, 255, 255, 0.1);
          /* Override desktop transition for width, use transform instead */
          transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .sidebar.open {
            transform: translateX(0);
        }
        .sidebar:hover {
            /* Disable hover expansion on mobile */
            width: 16rem;
        }
        .main-content-wrapper {
          padding-left: 0;
        }
        .sidebar:hover ~ .main-content-wrapper {
          padding-left: 0;
        }
        .filter-nav-container {
          top: 0; /* No header on mobile, so stick to top of viewport */
        }
      }

      /* New Dashboard Animation */
      @keyframes stat-card-enter {
        from {
          opacity: 0;
          transform: translateY(20px) scale(0.98);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .stat-card.animate-in {
        animation: stat-card-enter 600ms cubic-bezier(0.25, 1, 0.5, 1) forwards;
      }
      
      /* Collection Mode styles */
      .collection-add-btn {
          position: absolute;
          top: 0.75rem;
          right: 0.75rem;
          z-index: 10;
          width: 2rem;
          height: 2rem;
          border-radius: 9999px;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: rgba(0,0,0,0.4);
          transition: all 0.2s ease;
          color: white;
      }
      .collection-add-btn:hover {
          transform: scale(1.1);
      }
      .collection-add-btn.added {
          background-color: #16a34a; /* green-600 */
      }
      .collection-add-btn.added:hover {
          background-color: #15803d; /* green-700 */
      }
      .collection-add-btn:not(.added) {
          background-color: #6d28d9; /* violet-700 */
      }
      .collection-add-btn:not(.added):hover {
          background-color: #5b21b6; /* violet-800 */
      }

      /* Floating Collection Bar */
      @keyframes collection-bar-enter {
          from { transform: translateY(100%) scale(0.95); opacity: 0; }
          to { transform: translateY(0) scale(1); opacity: 1; }
      }
      @keyframes collection-bar-exit {
          from { transform: translateY(0) scale(1); opacity: 1; }
          to { transform: translateY(100%) scale(0.95); opacity: 0; }
      }
      .collection-bar-enter {
          animation: collection-bar-enter 400ms cubic-bezier(0.25, 1, 0.5, 1) forwards;
      }
      .collection-bar-exit {
          animation: collection-bar-exit 300ms ease-out forwards;
      }

    </style>
  <script type="importmap">
{
  "imports": {
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.20.0",
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1/index.js",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.1.1/index.js",
    "recharts": "https://aistudiocdn.com/recharts@^2.12.7"
  }
}
</script>
</head>
  <body>
    <div id="starfield">
      <div class="star-layer"></div>
      <div class="star-layer"></div>
      <div class="star-layer"></div>
    </div>
    <div class="interactive-background"></div>
    <div class="glow-shapes">
        <div class="glow-shape glow-shape-1"></div>
        <div class="glow-shape glow-shape-2"></div>
        <div class="glow-shape glow-shape-3"></div>
        <div class="glow-shape glow-shape-4"></div>
    </div>
    <div id="root"></div>
    <div id="modal-root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoVBL5gI9kDXxxLOTvg4rLPDnhz0A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNTlrdUmTzrDgektczlKNRRhy5X5AAOnx5S09ydFYWWNSfcEqDTTHgtNA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="module" src="/bundle.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const button = document.querySelector('.ai-exams-button-container > span');
        if (!button) return;

        // This function will be called by the animation events
        const triggerGlow = () => {
          button.classList.remove('button-is-glowing');
          void button.offsetWidth; 
          button.classList.add('button-is-glowing');
        };

        // We need to handle this differently since wires might not always exist on every page load
        const setupWireListeners = () => {
          const wires = document.querySelectorAll('.wire-path');
          if (wires.length > 0) {
            wires.forEach(wire => {
              wire.addEventListener('animationiteration', (event) => {
                if (event.animationName !== 'data-flow-all') return;
                const duration = parseFloat(window.getComputedStyle(wire).animationDuration) * 1000;
                const hitTime = duration * 0.4;
                setTimeout(triggerGlow, hitTime);
              });
            });
          }
        };
        
        // Use a MutationObserver to detect when the hero section (and its wires) are added to the DOM
        const observer = new MutationObserver((mutationsList, obs) => {
          for(const mutation of mutationsList) {
            if (mutation.type === 'childList') {
              if (document.querySelector('.wire-path')) {
                setupWireListeners();
                obs.disconnect(); // Stop observing once we've found and set up the wires
                return;
              }
            }
          }
        });

        // Start observing the #root element for changes
        const rootElement = document.getElementById('root');
        if (rootElement) {
          observer.observe(rootElement, { childList: true, subtree: true });
        }
        
        // Clean up the class after the glow animation finishes
        button.addEventListener('animationend', () => {
          if (button.classList.contains('button-is-glowing')) {
             button.classList.remove('button-is-glowing');
          }
        });
      });
    </script>
  </body>
</html>